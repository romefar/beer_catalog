{"version":3,"sources":["utils/isBeerFavourite.js","utils/resize-controller.js","services/beer-service.js","utils/trim.js","redux/actions/beer-list-actions/beer-list-actions.js","beer/components/beer-filter-list/beer-filter-list-styles.js","beer/components/beer-filter-item/beer-filter-item-styles.js","beer/components/beer-filter-item/index.js","beer/components/beer-filter-item/beer-filter-item.js","beer/components/beer-filter-list/beer-filters-types.js","beer/components/beer-filter-list/index.js","beer/components/beer-filter-list/beer-filter-list.js","beer/components/beer-item/beer-item-style.js","beer/components/beer-item/index.js","beer/components/beer-item/beer-item.js","beer/components/beer-list/beer-list-style.js","beer/components/beer-list/index.js","beer/components/beer-list/beer-list.js","shared/components/infinite-scroll/index.js","shared/components/infinite-scroll/infinite-scroll.js","search/search-bar/search-bar-styles.js","redux/actions/search-actions/search-actions.js","utils/validate-search-query.js","search/search-bar/search-bar.js","search/search-bar/index.js","shared/components/expand-panel/expand-panel-styles.js","shared/components/expand-panel/expand-panel.js","shared/components/expand-panel/index.js","beer/containers/beer-container.js"],"names":["isFavourite","id","favourites","map","item","beerId","includes","ResizeController","getItemsCount","header","document","querySelector","containerWidth","window","innerWidth","containerHeight","innerHeight","offsetHeight","elememtsInRow","Math","floor","rowsCount","rowsHeight","BeerService","per_page","page","beer_name","abv_gt","ibu_gt","ebc_gt","resetPages","getFavouritesBeerItems","a","fetch","options","searchQuery","alcoholVolume","bitternetsUnits","ebcColor","isChanged","isEqual","url","Object","entries","key","value","split","join","push","beerData","data","image_url","fetchBeerSuggestions","fetchBeerSuggestionsByYeast","yeast","yeastURI","toLowerCase","fetchBeerItems","beerItems","fetchSingleBeer","beerItem","shift","getBeerService","instance","trim","str","length","res","arr","prev","beerItemsLoaded","type","FETCH_BEER_LIST_SUCCESS","payload","beerListCleared","BEER_LIST_CLEARED","dispatch","FETCH_BEER_LIST_REQUEST","error","FETCH_BEER_LIST_FAILURE","styles","theme","filtersContainer","width","margin","fontFamily","textAlign","filterRow","display","justifyContent","transition","filterValueLabel","sliderContainer","filterInfo","defaultFontStack","alignItems","BeerFilterItem","withStyles","classes","filterType","onChangeCommitted","NAME","MIN_VALUE","MAX_VALUE","TITLE","useState","setValue","className","filterTitle","Slider","min","max","onChange","e","val","valueLabelDisplay","ALCOHOL_VOLUME","INERNATIONAL_BITTERNESS_UNITS","COLOR_BY_EBC","BeerFilterList","memo","filters","ALC","IBU","CBE","uuidv4","imageContainer","height","marginBottom","borderRadius","objectFit","info","title","whiteSpace","overflow","color","textColor","textOverflow","tagline","actions","borderTop","padding","buttonTextColor","cardContent","transform","border","BeerItem","imageUrl","isLoggedIn","name","onFavouriteClick","isBeerFavourite","src","alt","Button","component","RouterLink","to","onClick","beerListContainer","maxWidth","flexWrap","BeerList","items","InfiniteScroll","setWindowOnScrollHandler","onscroll","debounce","documentElement","scrollTop","props","isLoading","hasItems","fetchItems","componentDidMount","componentDidUpdate","prevProps","render","hasError","text","message","Component","inputContainer","svgIconsColor","searchForm","inputField","fontSize","outline","background","inputFocusColor","borderColor","inputFieldInvalid","searchQueryChanged","SEARCH_QUERY_CHANGE","validateSearchQuery","query","trimmedQuery","match","SearchBar","state","isValid","isTouched","onChangeHandler","target","setState","onFocusHandler","onSubmitHandler","preventDefault","validQuery","onSubmit","Tooltip","arrow","open","clsx","placeholder","onFocus","IconButton","PureComponent","compose","connect","search","bindActionCreators","container","minHeight","boxShadow","defaultBgColor","iconChanged","content","contentWrapper","ExpandPanel","isOpen","onClickHandler","children","style","duration","defaultProps","contentHeight","BeerContainer","toggleFavourites","removeBeerFromFavourites","addBeerToFavourites","onFilterClose","componentWillUnmount","onFilterChangeHandler","beerList","signIn","profile"],"mappings":"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","file":"static/js/14.73fa529b.chunk.js","sourcesContent":["export const isFavourite = (id, favourites) => {\r\n  return favourites.map(item => item.beerId).includes(id);\r\n};\r\n","class ResizeController {\r\n  static getItemsCount = () => {\r\n    // TODO: Fix selectors names or replace with id\r\n    // const container = document.querySelector('#beer_list_container');\r\n    const header = document.querySelector('#main_header');\r\n\r\n    const containerWidth = window.innerWidth * 0.75;\r\n    const containerHeight = window.innerHeight -\r\n                            header.offsetHeight;\r\n    const cardWidth = 320;\r\n    const cardHeight = 353;\r\n\r\n    const elememtsInRow = Math.floor(containerWidth / cardWidth);\r\n    let rowsCount = 0;\r\n    let rowsHeight = 0;\r\n    while (rowsHeight < containerHeight) {\r\n      rowsHeight += cardHeight;\r\n      rowsCount++;\r\n    }\r\n    const itemsCount = elememtsInRow * rowsCount;\r\n    return itemsCount;\r\n  }\r\n}\r\n\r\nexport default ResizeController;\r\n","import fetch from '../utils/fetch';\r\nimport ResizeController from '../utils/resize-controller';\r\nimport isEqual from 'lodash.isequal';\r\n\r\nclass BeerService {\r\n  #beerRoute = '/api/v1/beers';\r\n  #prevOptions = null;\r\n  #params = {\r\n    per_page: 12,\r\n    page: 1,\r\n    beer_name: null,\r\n    abv_gt: null,\r\n    ibu_gt: null,\r\n    ebc_gt: null\r\n  }\r\n  // TODO: move image replacer to server!\r\n\r\n  #defaultImageUrl = 'http://pluspng.com/img-png/beer-bottle-png-hd-a-beer-bottle-beer-bottle-brown-foam-free-png-and-psd-650.jpg';\r\n\r\n  resetPages = () => {\r\n    this.#params.page = 1;\r\n  }\r\n\r\n  getFavouritesBeerItems = async (page) => {\r\n    return await fetch(`${this.#beerRoute}/favourites?page=${page}`);\r\n  }\r\n\r\n  #configureRequest = (options) => {\r\n    const {\r\n      searchQuery,\r\n      alcoholVolume,\r\n      bitternetsUnits,\r\n      ebcColor\r\n    } = options;\r\n    this.#params.per_page = ResizeController.getItemsCount();\r\n    const isChanged = isEqual(this.#prevOptions, options);\r\n    this.#params.page = isChanged ? this.#params.page : 1;\r\n    this.#params = {\r\n      ...this.#params,\r\n      beer_name: searchQuery,\r\n      abv_gt: alcoholVolume,\r\n      ibu_gt: bitternetsUnits,\r\n      ebc_gt: ebcColor\r\n    };\r\n    this.#prevOptions = options;\r\n  }\r\n\r\n  #generateUrl = () => {\r\n    const url = [];\r\n    for (let [key, value] of Object.entries(this.#params)) {\r\n      if (value) {\r\n        if (key === 'beer_name') {\r\n          key = key.split(' ').join('_');\r\n        }\r\n        url.push(`${key}=${value}`);\r\n      }\r\n    }\r\n    return `?${url.join('&')}`;\r\n  }\r\n\r\n  #replaceEmptyImages = (beerData) => {\r\n    const fixeditems = beerData.map(item => {\r\n      if (!item.image_url) {\r\n        item.image_url = this.#defaultImageUrl;\r\n      }\r\n      return item;\r\n    });\r\n    return {\r\n      data: fixeditems\r\n    };\r\n  }\r\n\r\n  fetchBeerSuggestions = async (page) => {\r\n    return await fetch(`${this.#beerRoute}/suggestions?page=${page}`);\r\n  }\r\n\r\n  fetchBeerSuggestionsByYeast = async (page, yeast) => {\r\n    const yeastURI = yeast.toLowerCase().split(' ').join('_');\r\n    return await fetch(`${this.#beerRoute}/suggestions?page=${page}&yeast=${yeastURI}`);\r\n  }\r\n\r\n  fetchBeerItems = async (options) => {\r\n    this.#configureRequest(options);\r\n    const url = this.#generateUrl();\r\n    const beerData = await fetch(`${this.#beerRoute}${url}`);\r\n    const beerItems = this.#replaceEmptyImages(beerData);\r\n    this.#params.page += 1;\r\n    return beerItems;\r\n  }\r\n\r\n  fetchSingleBeer = async (options) => {\r\n    const { id } = options;\r\n    const beerData = await fetch(`${this.#beerRoute}/${id}`);\r\n    const beerItem = this.#replaceEmptyImages(beerData);\r\n    return beerItem.data.shift();\r\n  }\r\n}\r\n\r\nconst getBeerService = (() => {\r\n  let instance = null;\r\n  return () => {\r\n    if (instance) {\r\n      return instance;\r\n    } else {\r\n      instance = new BeerService();\r\n      return instance;\r\n    }\r\n  };\r\n})();\r\n\r\nexport default getBeerService;\r\n","const trim = (str) => {\r\n  if (str.length <= 2) return str.trim();\r\n\r\n  const res = [];\r\n\r\n  const arr = str.trim().split('');\r\n  let prev = arr.shift();\r\n  if (prev !== ' ') res.push(prev);\r\n\r\n  for (const item of arr) {\r\n    if (prev !== ' ' || item !== ' ') { res.push(item); }\r\n    prev = item;\r\n  }\r\n\r\n  return res.join('');\r\n};\r\n\r\nexport default trim;\r\n","import getBeerService from '../../../services/beer-service';\r\n\r\nimport {\r\n  FETCH_BEER_LIST_REQUEST,\r\n  FETCH_BEER_LIST_SUCCESS,\r\n  FETCH_BEER_LIST_FAILURE,\r\n  BEER_LIST_CLEARED\r\n} from './beer-list-actions-types';\r\n\r\nconst beerItemsRequested = () => {\r\n  return {\r\n    type: FETCH_BEER_LIST_REQUEST\r\n  };\r\n};\r\n\r\nconst beerItemsLoaded = (beerItems) => {\r\n  return {\r\n    type: FETCH_BEER_LIST_SUCCESS,\r\n    payload: beerItems.data\r\n  };\r\n};\r\n\r\nconst beerItemsLoadingFailed = (error) => {\r\n  return {\r\n    type: FETCH_BEER_LIST_FAILURE,\r\n    payload: error\r\n  };\r\n};\r\n\r\nconst beerListCleared = () => {\r\n  getBeerService().resetPages();\r\n  return {\r\n    type: BEER_LIST_CLEARED\r\n  };\r\n};\r\n\r\nconst fetchBeerItems = (options) => async (dispatch) => {\r\n  try {\r\n    dispatch(beerItemsRequested());\r\n    const beerItems = await getBeerService().fetchBeerItems(options);\r\n    dispatch(beerItemsLoaded(beerItems));\r\n  } catch (error) {\r\n    dispatch(beerItemsLoadingFailed(error));\r\n  }\r\n};\r\n\r\nexport {\r\n  fetchBeerItems,\r\n  beerListCleared\r\n};\r\n","const styles = theme => ({\r\n  filtersContainer: {\r\n    width: '100%',\r\n    margin: '0 auto',\r\n    '& h2': {\r\n      fontFamily: 'Helvetica, Arial, sans-serif',\r\n      margin: '10px 0',\r\n      textAlign: 'center'\r\n    }\r\n  }\r\n});\r\n\r\nexport default styles;\r\n","const styles = theme => ({\r\n  filterRow: {\r\n    display: 'flex',\r\n    justifyContent: 'space-between',\r\n    transition: 'background-color 0.5s ease-in'\r\n  },\r\n  filterValueLabel: {\r\n    display: 'inline-block'\r\n  },\r\n  sliderContainer: {\r\n    width: '40%'\r\n  },\r\n  filterInfo: {\r\n    fontFamily: `Lato, ${theme.defaultFontStack}`,\r\n    width: '50%',\r\n    display: 'flex',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center'\r\n  }\r\n});\r\n\r\nexport default styles;\r\n","import BeerFilterItem from './beer-filter-item';\r\nexport default BeerFilterItem;\r\n","import React, { useState } from 'react';\r\nimport withStyles from 'react-jss';\r\nimport styles from './beer-filter-item-styles';\r\nimport PropTypes from 'prop-types';\r\nimport Slider from '@material-ui/core/Slider';\r\n\r\nconst BeerFilterItem = ({ classes, filterType, onChangeCommitted }) => {\r\n  const { NAME, MIN_VALUE, MAX_VALUE, TITLE } = filterType;\r\n  const [value, setValue] = useState(MIN_VALUE);\r\n  return (\r\n    <div className={classes.filterRow}>\r\n      <div className={classes.filterInfo}>\r\n        <span className={classes.filterTitle}>{TITLE}</span>\r\n        <span className={classes.filterValueLabel}>{value}</span>\r\n      </div>\r\n      <div className={classes.sliderContainer}>\r\n        <Slider\r\n          min={MIN_VALUE}\r\n          max={MAX_VALUE}\r\n          value={value}\r\n          onChange={(e, val) => setValue(val)}\r\n          valueLabelDisplay='auto'\r\n          onChangeCommitted={(e, val) => onChangeCommitted(NAME, val)}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nBeerFilterItem.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n  filterType: PropTypes.object.isRequired,\r\n  onChangeCommitted: PropTypes.func.isRequired\r\n};\r\n\r\nexport default withStyles(styles)(BeerFilterItem);\r\n","const ALCOHOL_VOLUME = {\r\n  NAME: 'alcoholVolume',\r\n  TITLE: 'Alcohol by volume:',\r\n  MIN_VALUE: 2,\r\n  MAX_VALUE: 14\r\n};\r\n\r\nconst INERNATIONAL_BITTERNESS_UNITS = {\r\n  NAME: 'bitternetsUnits',\r\n  TITLE: 'International Bitterness Units:',\r\n  MIN_VALUE: 0,\r\n  MAX_VALUE: 120\r\n};\r\n\r\nconst COLOR_BY_EBC = {\r\n  NAME: 'ebcColor',\r\n  TITLE: 'Color by EBC:',\r\n  MIN_VALUE: 4,\r\n  MAX_VALUE: 80\r\n};\r\n\r\nexport {\r\n  ALCOHOL_VOLUME,\r\n  INERNATIONAL_BITTERNESS_UNITS,\r\n  COLOR_BY_EBC\r\n};\r\n","import BeerFilterList from './beer-filter-list';\r\nexport default BeerFilterList;\r\n","import React, { memo } from 'react';\r\nimport withStyles from 'react-jss';\r\nimport styles from './beer-filter-list-styles';\r\nimport PropTypes from 'prop-types';\r\nimport BeerFilterItem from '../beer-filter-item';\r\nimport { v4 as uuidv4 } from 'uuid';\r\nimport {\r\n  ALCOHOL_VOLUME as ALC,\r\n  INERNATIONAL_BITTERNESS_UNITS as IBU,\r\n  COLOR_BY_EBC as CBE\r\n} from './beer-filters-types';\r\n\r\nconst BeerFilterList = ({ classes, onChangeCommitted }) => {\r\n  const filters = [ALC, IBU, CBE];\r\n  return (\r\n    <div className={classes.filtersContainer}>\r\n      <h2>Search options</h2>\r\n      {filters.map(filterType => {\r\n        const key = uuidv4();\r\n        return (\r\n          <BeerFilterItem\r\n            key={key}\r\n            filterType={filterType}\r\n            onChangeCommitted={onChangeCommitted}\r\n          />\r\n        );\r\n      })}\r\n    </div>\r\n  );\r\n};\r\n\r\nBeerFilterList.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n  onChangeCommitted: PropTypes.func.isRequired\r\n};\r\n\r\nexport default withStyles(styles)(memo(BeerFilterList));\r\n","const styles = theme => ({\r\n  imageContainer: {\r\n    width: '100%',\r\n    height: '200px',\r\n    marginBottom: '10px',\r\n    '& img': {\r\n      borderRadius: '50%',\r\n      width: '100%',\r\n      height: '100%',\r\n      objectFit: 'contain'\r\n    }\r\n  },\r\n  info: {\r\n    textAlign: 'justify'\r\n  },\r\n  title: {\r\n    margin: 0,\r\n    whiteSpace: 'nowrap',\r\n    overflow: 'hidden',\r\n    color: theme.textColor,\r\n    textOverflow: 'ellipsis',\r\n    fontFamily: `Helvetica, ${theme.defaultFontStack}`\r\n  },\r\n  tagline: {\r\n    margin: '10px 0',\r\n    fontFamily: `Verdana, ${theme.defaultFontStack}`,\r\n    color: '#696969'\r\n  },\r\n  actions: {\r\n    borderTop: '1px solid #ccc',\r\n    display: 'flex',\r\n    justifyContent: 'space-evenly',\r\n    padding: '5px 0 0 0'.defaultFontStack,\r\n    '& span': {\r\n      color: theme.buttonTextColor\r\n    }\r\n  },\r\n  cardContent: {\r\n    width: '320px',\r\n    marginBottom: '20px',\r\n    transition: 'all 0.5s ease-in',\r\n    '&:hover': {\r\n      transform: 'scale(1.05)',\r\n      border: `1px solid ${theme.textColor}`\r\n    }\r\n  }\r\n});\r\n\r\nexport default styles;\r\n","import BeerItem from './beer-item';\r\nexport default BeerItem;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Card from '../../../shared/components/ui-elements/card';\r\nimport styles from './beer-item-style';\r\nimport withStyles from 'react-jss';\r\nimport Button from '@material-ui/core/Button';\r\nimport { Link as RouterLink } from 'react-router-dom';\r\nimport { isFavourite as isBeerFavourite } from '../../../utils/isBeerFavourite';\r\n\r\nconst BeerItem = ({ id, classes, imageUrl, isLoggedIn, name, tagline, favourites, onFavouriteClick }) => {\r\n  const isFavourite = isBeerFavourite(id, favourites);\r\n  return (\r\n    <Card className={classes.cardContent}>\r\n      <div className={classes.imageContainer}>\r\n        <img src={imageUrl} alt={name} title={name}/>\r\n      </div>\r\n      <div className={classes.info}>\r\n        <h2 className={classes.title} title={name}>{name}</h2>\r\n        <p className={classes.tagline}>{tagline}</p>\r\n      </div>\r\n      <div className={classes.actions}>\r\n        <Button\r\n          component={RouterLink}\r\n          to={`/beer/${id}`}\r\n        >\r\n          View\r\n        </Button>\r\n        {isLoggedIn &&\r\n        <Button onClick={() => onFavouriteClick(id)}>\r\n          {isFavourite ? 'Remove from favourite' : 'Add to favourite'}\r\n        </Button>}\r\n      </div>\r\n    </Card>\r\n  );\r\n};\r\n\r\nBeerItem.propTypes = {\r\n  id: PropTypes.number.isRequired,\r\n  classes: PropTypes.object.isRequired,\r\n  isLoggedIn: PropTypes.bool.isRequired,\r\n  imageUrl: PropTypes.string.isRequired,\r\n  name: PropTypes.string.isRequired,\r\n  tagline: PropTypes.string.isRequired,\r\n  favourites: PropTypes.array.isRequired,\r\n  onFavouriteClick: PropTypes.func.isRequired\r\n};\r\n\r\nexport default withStyles(styles)(BeerItem);\r\n","const styles = {\r\n  beerListContainer: {\r\n    width: '75vw',\r\n    maxWidth: '1440px',\r\n    display: 'flex',\r\n    justifyContent: 'space-evenly',\r\n    flexWrap: 'wrap',\r\n    margin: '20px auto'\r\n  }\r\n};\r\n\r\nexport default styles;\r\n","import BeerList from './beer-list';\r\nexport default BeerList;\r\n","import React from 'react';\r\nimport BeerItem from '../beer-item';\r\nimport PropTypes from 'prop-types';\r\nimport withStyles from 'react-jss';\r\nimport styles from './beer-list-style';\r\n\r\nconst BeerList = ({ classes, items, isLoggedIn, favourites, onFavouriteClick }) => {\r\n  return (\r\n    <div id=\"beer_list_container\" className={classes.beerListContainer}>\r\n      {items.map(beerItem => {\r\n        return (\r\n          <BeerItem\r\n            id={beerItem.id}\r\n            key={beerItem.id}\r\n            favourites={favourites}\r\n            onFavouriteClick={onFavouriteClick}\r\n            isLoggedIn={isLoggedIn}\r\n            imageUrl={beerItem.image_url}\r\n            name={beerItem.name}\r\n            tagline={beerItem.tagline}\r\n          />\r\n        );\r\n      })}\r\n    </div>\r\n  );\r\n};\r\n\r\nBeerList.propTypes = {\r\n  items: PropTypes.array.isRequired,\r\n  isLoggedIn: PropTypes.bool.isRequired,\r\n  classes: PropTypes.object.isRequired,\r\n  favourites: PropTypes.array.isRequired,\r\n  onFavouriteClick: PropTypes.func.isRequired\r\n};\r\n\r\nexport default withStyles(styles)(BeerList);\r\n","import InfiniteScroll from './infinite-scroll';\r\nexport default InfiniteScroll;\r\n","import React, { Component, Fragment } from 'react';\r\nimport debounce from 'lodash.debounce';\r\nimport BeerList from '../../../beer/components/beer-list';\r\nimport LoadingSpinner from '../ui-elements/loading-spinner';\r\nimport MessageBox from '../ui-elements/message-box';\r\nimport PropTypes from 'prop-types';\r\nimport isEqual from 'lodash.isequal';\r\n\r\nclass InfiniteScroll extends Component {\r\n  setWindowOnScrollHandler = () => {\r\n    window.onscroll = debounce(() => {\r\n      const windowInnerHeight = window.innerHeight;\r\n      const documentScrollTop = document.documentElement.scrollTop;\r\n      const documentOffsetHeight = document.documentElement.offsetHeight;\r\n\r\n      if (windowInnerHeight + documentScrollTop === documentOffsetHeight) {\r\n        if (!this.props.isLoading && this.props.hasItems) {\r\n          this.props.fetchItems(this.props.options);\r\n        }\r\n      }\r\n      // const isMobile = /iPhone|iPad|iPod|Android/i.test(navigator.userAgent);\r\n      // if (isMobile && windowInnerHeight + window.pageYOffset >= documentOffsetHeight - 20) {\r\n      //   if (!this.props.isLoading && !this.props.isEnd) {\r\n      //     // this.props.fetchItems();\r\n      //   }\r\n      // }\r\n    }, 100);\r\n  }\r\n\r\n  componentDidMount = () => {\r\n    this.setWindowOnScrollHandler();\r\n    this.props.fetchItems(this.props.options);\r\n  }\r\n\r\n  componentDidUpdate = (prevProps) => {\r\n    if (!isEqual(prevProps.options, this.props.options)) {\r\n      this.props.fetchItems(this.props.options);\r\n    }\r\n  }\r\n\r\n  render = () => {\r\n    const { items, isLoading, isLoggedIn, hasError, hasItems, favourites, onFavouriteClick } = this.props;\r\n    return (\r\n      <Fragment>\r\n        <BeerList\r\n          items={items}\r\n          isLoggedIn={isLoggedIn}\r\n          favourites={favourites}\r\n          onFavouriteClick={onFavouriteClick}\r\n        />\r\n        {isLoading && hasItems && <LoadingSpinner />}\r\n        {hasError && <MessageBox text={hasError.message} />}\r\n        {!hasItems && <MessageBox text='Sorry. We are out of beer.' />}\r\n      </Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nInfiniteScroll.propTypes = {\r\n  items: PropTypes.array.isRequired,\r\n  isLoading: PropTypes.bool.isRequired,\r\n  hasError: PropTypes.oneOf([PropTypes.string, PropTypes.object]),\r\n  hasItems: PropTypes.bool.isRequired,\r\n  isLoggedIn: PropTypes.bool.isRequired,\r\n  fetchItems: PropTypes.func.isRequired,\r\n  options: PropTypes.object.isRequired,\r\n  favourites: PropTypes.array.isRequired,\r\n  onFavouriteClick: PropTypes.func.isRequired\r\n};\r\n\r\nexport default InfiniteScroll;\r\n","const styles = theme => ({\r\n  inputContainer: {\r\n    width: '40vw',\r\n    maxWidth: '768px',\r\n    margin: '0 auto',\r\n    '& svg': {\r\n      color: theme.svgIconsColor\r\n    }\r\n  },\r\n  searchForm: {\r\n    width: '100%',\r\n    margin: '20px 0',\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'center'\r\n  },\r\n  inputField: {\r\n    fontFamily: `Lato, ${theme.defaultFontStack}`,\r\n    padding: '10px',\r\n    fontSize: '1rem',\r\n    outline: 'none',\r\n    color: theme.textColor,\r\n    width: '90%',\r\n    background: theme.inputFocusColor,\r\n    border: '1px solid #ccc',\r\n    borderRadius: '5px',\r\n    margin: '0 3px 0 0',\r\n    transition: 'all 0.5s ease-in',\r\n    '&:hover, &:focus': {\r\n      borderColor: '#696969'\r\n    }\r\n  },\r\n  inputFieldInvalid: {\r\n    borderColor: 'red',\r\n    '&:hover, &:focus': {\r\n      borderColor: 'red'\r\n    }\r\n  },\r\n  '@media (max-width: 968px)': {\r\n    inputContainer: {\r\n      width: '70vw'\r\n    }\r\n  }\r\n});\r\n\r\nexport default styles;\r\n","import {\r\n  SEARCH_QUERY_CHANGE\r\n} from './search-actions-types';\r\nimport {\r\n  beerListCleared\r\n} from '../beer-list-actions/beer-list-actions';\r\n\r\nconst searchQueryChanged = (searchQuery) => (dispatch) => {\r\n  dispatch(beerListCleared());\r\n  dispatch({\r\n    type: SEARCH_QUERY_CHANGE,\r\n    payload: searchQuery\r\n  });\r\n};\r\n\r\nexport {\r\n  searchQueryChanged\r\n};\r\n","import trim from './trim';\r\n\r\nconst validateSearchQuery = (query) => {\r\n  const trimmedQuery = trim(query);\r\n  if (trimmedQuery.match(/^[a-zA-Z0-9 !.\\-_]+$/) || trimmedQuery === '') {\r\n    return [true, trimmedQuery];\r\n  }\r\n  return [false, trimmedQuery];\r\n};\r\n\r\nexport default validateSearchQuery;\r\n","import React, { PureComponent } from 'react';\r\nimport withStyles from 'react-jss';\r\nimport styles from './search-bar-styles';\r\nimport PropTypes from 'prop-types';\r\nimport { bindActionCreators, compose } from 'redux';\r\nimport { connect } from 'react-redux';\r\nimport { searchQueryChanged } from '../../redux/actions/search-actions/search-actions';\r\nimport SearchIcon from '@material-ui/icons/Search';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport validateSearchQuery from '../../utils/validate-search-query';\r\nimport clsx from 'clsx';\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\n\r\nclass SearchBar extends PureComponent {\r\n  state = {\r\n    query: '',\r\n    isValid: true,\r\n    isTouched: false\r\n  }\r\n\r\n  onChangeHandler = (e) => {\r\n    const value = e.target.value;\r\n    const [isValid] = validateSearchQuery(value);\r\n    this.setState({\r\n      query: value,\r\n      isValid\r\n    });\r\n  }\r\n\r\n  onFocusHandler = () => {\r\n    this.setState({\r\n      isTouched: true\r\n    });\r\n  }\r\n\r\n  onSubmitHandler = (e) => {\r\n    const { isValid, query } = this.state;\r\n    const { searchQuery } = this.props;\r\n    e.preventDefault();\r\n    const [, validQuery] = validateSearchQuery(query);\r\n    if (isValid && validQuery !== searchQuery) {\r\n      this.props.searchQueryChanged(validQuery);\r\n    }\r\n  }\r\n\r\n  render = () => {\r\n    const { classes } = this.props;\r\n    const { isValid, isTouched, query } = this.state;\r\n    return (\r\n      <div className={classes.inputContainer}>\r\n        <form className={classes.searchForm} onSubmit={this.onSubmitHandler}>\r\n          <Tooltip\r\n            title=\"Please, provide a valid beer name. For example 'Alphine Blue' \"\r\n            arrow\r\n            open={!isValid && isTouched}\r\n          >\r\n            <input\r\n              className={clsx(\r\n                classes.inputField,\r\n                {\r\n                  [classes.inputFieldInvalid]: !isValid && isTouched\r\n                }\r\n              )}\r\n              type='text'\r\n              placeholder='Search query...'\r\n              value={query}\r\n              onChange={this.onChangeHandler}\r\n              onFocus={this.onFocusHandler}/>\r\n          </Tooltip>\r\n          <IconButton onClick={this.onSubmitHandler}>\r\n            <SearchIcon fontSize=\"large\"/>\r\n          </IconButton>\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nSearchBar.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n  searchQuery: PropTypes.string.isRequired,\r\n  searchQueryChanged: PropTypes.func.isRequired\r\n};\r\n\r\nconst mapStateToProps = ({ search: { searchQuery } }) => {\r\n  return {\r\n    searchQuery\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return bindActionCreators({\r\n    searchQueryChanged\r\n  }, dispatch);\r\n};\r\n\r\nexport default compose(\r\n  connect(mapStateToProps, mapDispatchToProps),\r\n  withStyles(styles)\r\n)(SearchBar);\r\n","import SearchBar from './search-bar';\r\nexport default SearchBar;\r\n","const styles = theme => ({\r\n  container: {\r\n    width: '40vw',\r\n    maxWidth: '768px',\r\n    margin: '0 auto',\r\n    minHeight: '48px',\r\n    color: theme.textColor,\r\n    transition: 'background-color 0.5s ease-in',\r\n    '& svg': {\r\n      color: theme.svgIconsColor\r\n    }\r\n  },\r\n  header: {\r\n    padding: '8px',\r\n    boxShadow: 'rgba(0, 0, 0, 0.2) 0px 3px 3px -2px, rgba(0, 0, 0, 0.14) 0px 3px 4px 0px, rgba(0, 0, 0, 0.12) 0px 1px 8px 0px',\r\n    borderRadius: '10px',\r\n    margin: '0 auto',\r\n    transition: 'background-color 0.5s ease-in',\r\n    background: theme.defaultBgColor,\r\n    width: '220px',\r\n    fontFamily: 'Helvetica, Arial, sans-serif',\r\n    textAlign: 'center',\r\n    display: 'flex',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    '& h2': {\r\n      margin: '10px 0',\r\n      width: '100%',\r\n      textAlign: 'left'\r\n    }\r\n  },\r\n  iconChanged: {\r\n    transform: 'rotate(180deg)'\r\n  },\r\n  content: {\r\n    borderRadius: '10px',\r\n    background: theme.defaultBgColor,\r\n    transition: 'background-color 0.5s ease-in',\r\n    margin: '10px 0 0 0',\r\n    boxShadow: 'rgba(0, 0, 0, 0.2) 0px 3px 3px -2px, rgba(0, 0, 0, 0.14) 0px 3px 4px 0px, rgba(0, 0, 0, 0.12) 0px 1px 8px 0px'\r\n  },\r\n  contentWrapper: {\r\n    padding: '10px'\r\n  },\r\n  '@media (max-width: 768px)': {\r\n    container: {\r\n      width: '90vw'\r\n    }\r\n  }\r\n});\r\n\r\nexport default styles;\r\n","import React, { PureComponent } from 'react';\r\nimport withStyles from 'react-jss';\r\nimport styles from './expand-panel-styles';\r\nimport clsx from 'clsx';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport PropTypes from 'prop-types';\r\nimport AnimateHeight from 'react-animate-height';\r\n\r\nclass ExpandPanel extends PureComponent {\r\n  state = {\r\n    isOpen: false\r\n  }\r\n\r\n  onClickHandler = () => {\r\n    this.setState((state) => {\r\n      return {\r\n        isOpen: !state.isOpen\r\n      };\r\n    });\r\n  }\r\n\r\n  render = () => {\r\n    const { classes, children } = this.props;\r\n    const { isOpen } = this.state;\r\n    return (\r\n      <div className={classes.container}>\r\n        <div className={classes.header}>\r\n          <h2 onClick={this.onClickHandler}>Show filters</h2>\r\n          <IconButton onClick={this.onClickHandler}>\r\n            <ExpandMoreIcon style={{ transition: 'all 0.5s ease' }} className={clsx({\r\n              [classes.iconChanged]: isOpen\r\n            })}/>\r\n          </IconButton>\r\n        </div>\r\n        <div className={clsx({\r\n          [classes.content]: true\r\n        })}>\r\n          <AnimateHeight\r\n            duration={500}\r\n            height={isOpen ? 'auto' : 0}\r\n          >\r\n            <div className={classes.contentWrapper}>\r\n              {children}\r\n            </div>\r\n          </AnimateHeight>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nExpandPanel.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n  children: PropTypes.any\r\n};\r\n\r\nExpandPanel.defaultProps = {\r\n  contentHeight: '200px'\r\n};\r\n\r\nexport default withStyles(styles)(ExpandPanel);\r\n","import ExpandPanel from './expand-panel';\r\nexport default ExpandPanel;\r\n","import React, { Component, Fragment } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { bindActionCreators } from 'redux';\r\nimport PropTypes from 'prop-types';\r\nimport { fetchBeerItems, beerListCleared } from '../../redux/actions/beer-list-actions/beer-list-actions';\r\nimport { addBeerToFavourites, removeBeerFromFavourites } from '../../redux/actions/profile-actions/profile-actions';\r\nimport BeerFilterList from '../components/beer-filter-list';\r\nimport InfiniteScroll from '../../shared/components/infinite-scroll';\r\nimport debounce from 'lodash.debounce';\r\nimport isEqual from 'lodash.isequal';\r\nimport SearchBar from '../../search/search-bar';\r\nimport ExpandPanel from '../../shared/components/expand-panel';\r\n\r\nclass BeerContainer extends Component {\r\n  state = {\r\n    filters: {\r\n      alcoholVolume: null,\r\n      bitternetsUnits: null,\r\n      ebcColor: null\r\n    }\r\n  }\r\n\r\n  toggleFavourites = (id) => {\r\n    if (this.props.favourites.map(item => item.beerId).includes(id)) {\r\n      this.props.removeBeerFromFavourites(id);\r\n    } else {\r\n      this.props.addBeerToFavourites(id);\r\n    }\r\n  }\r\n\r\n  fetchItems = (options) => {\r\n    const { fetchBeerItems } = this.props;\r\n    fetchBeerItems(options);\r\n  }\r\n\r\n  onFilterClose = () => {\r\n    this.setState({\r\n      filters: {\r\n        alcoholVolume: null,\r\n        bitternetsUnits: null,\r\n        ebcColor: null\r\n      }\r\n    });\r\n  }\r\n\r\n  componentWillUnmount = () => {\r\n    this.props.beerListCleared();\r\n  }\r\n\r\n  onFilterChangeHandler = debounce((key, val) => {\r\n    const hasChanged = isEqual(this.state.filters, {\r\n      ...this.state.filters,\r\n      [key]: val\r\n    });\r\n    if (!hasChanged) {\r\n      this.props.beerListCleared();\r\n      this.setState((state) => {\r\n        return {\r\n          filters: {\r\n            ...state.filters,\r\n            [key]: val\r\n          }\r\n        };\r\n      });\r\n    }\r\n  }, 300)\r\n\r\n  render = () => {\r\n    const { items, hasError, isLoading, isLoggedIn, hasItems, searchQuery, favourites } = this.props;\r\n    const options = {\r\n      searchQuery,\r\n      ...this.state.filters\r\n    };\r\n    return (\r\n      <Fragment>\r\n        <SearchBar />\r\n        <ExpandPanel>\r\n          <BeerFilterList\r\n            onChangeCommitted={this.onFilterChangeHandler}\r\n          />\r\n        </ExpandPanel>\r\n        <InfiniteScroll\r\n          fetchItems={this.fetchItems}\r\n          isLoading={isLoading}\r\n          hasError={hasError}\r\n          favourites={favourites}\r\n          onFavouriteClick={this.toggleFavourites}\r\n          isLoggedIn={isLoggedIn}\r\n          items={items}\r\n          hasItems={hasItems}\r\n          options={options}\r\n        />\r\n      </Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = ({\r\n  beerList: { items, hasError, isLoading, hasItems },\r\n  signIn: { isLoggedIn },\r\n  profile: { favourites },\r\n  search: { searchQuery }\r\n}) => {\r\n  return {\r\n    items,\r\n    hasError,\r\n    isLoggedIn,\r\n    favourites,\r\n    hasItems,\r\n    isLoading,\r\n    searchQuery\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return bindActionCreators({\r\n    fetchBeerItems,\r\n    addBeerToFavourites,\r\n    removeBeerFromFavourites,\r\n    beerListCleared\r\n  }, dispatch);\r\n};\r\n\r\nBeerContainer.propTypes = {\r\n  items: PropTypes.array.isRequired,\r\n  hasError: PropTypes.object,\r\n  hasItems: PropTypes.bool.isRequired,\r\n  isLoading: PropTypes.bool.isRequired,\r\n  favourites: PropTypes.array.isRequired,\r\n  fetchBeerItems: PropTypes.func.isRequired,\r\n  removeBeerFromFavourites: PropTypes.func.isRequired,\r\n  addBeerToFavourites: PropTypes.func.isRequired,\r\n  beerListCleared: PropTypes.func.isRequired,\r\n  isLoggedIn: PropTypes.bool.isRequired,\r\n  searchQuery: PropTypes.string\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(BeerContainer);\r\n"],"sourceRoot":""}