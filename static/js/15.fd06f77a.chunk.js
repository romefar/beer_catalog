(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[15],{244:function(e,a,t){"use strict";var r=t(240);a.a=function(e,a,t){var n=!0,o=e;if(a){var l,i=Object(r.a)(a);try{for(i.s();!(l=i.n()).done;){o=(0,l.value)(e)}}catch(d){i.e(d)}finally{i.f()}}if(0===t.length)return o;var s,c=Object(r.a)(t);try{for(c.s();!(s=c.n()).done;){n=(0,s.value)(o)&&n}}catch(d){c.e(d)}finally{c.f()}return a?[o,n]:n}},245:function(e,a,t){"use strict";var r=t(50),n=t(0),o=t.n(n),l=function(e){return{container:{width:"100%",padding:"10px 0",color:e.textColor,fontFamily:"Lato, ".concat(e.defaultFontStack)},inputItem:{width:"100%",display:"block",padding:"7px 10px",outline:"none",border:"1px solid #ccc",background:e.defaultBgColor,fontFamily:"inherit",borderRadius:"5px",color:e.textColor,transition:"border-color 0.5s ease-in, background 0.5s ease-in","&:focus":{background:e.inputFocusColor}},inputTextarea:{height:"100px",resize:"none"},inputInvalid:{border:"2px solid red"},errorMessage:{color:"red",margin:"2px 0"},labelItem:{fontWeight:"bold",display:"block",textTransform:"capitalize",fontFamily:"inherit",margin:"0 0 8px 0"}}},i=t(9),s=t(14),c=function(e){var a,t,n,l=e.label,i=e.classes,c=e.elementType,d=e.value,u=e.isValid,p=e.isTouched,m=e.errorMsg,f=e.config,g=e.onInput,b=null;switch(c){case"input":b=o.a.createElement("input",Object.assign({},f,{className:Object(s.a)((a={},Object(r.a)(a,i.inputItem,!0),Object(r.a)(a,i.inputInvalid,!u&&p),a)),value:d,onChange:g}));break;case"textarea":b=o.a.createElement("textarea",Object.assign({},f,{className:Object(s.a)((t={},Object(r.a)(t,i.inputItem,!0),Object(r.a)(t,i.inputTextarea,!0),Object(r.a)(t,i.inputInvalid,!u&&p),t)),value:d,onChange:g}));break;default:b=o.a.createElement("input",Object.assign({},f,{className:Object(s.a)((n={},Object(r.a)(n,i.inputItem,!0),Object(r.a)(n,i.inputInvalid,!u&&p),n)),value:d,onChange:g}))}return o.a.createElement("div",{className:i.container},o.a.createElement("label",{className:i.labelItem},l),b,!u&&p&&o.a.createElement("p",{className:i.errorMessage},m))};c.defaultProps={errorMsg:"Invalid input"};var d=Object(i.b)(l)(c);a.a=d},265:function(e,a,t){"use strict";var r=t(0),n=t.n(r),o=t(18),l=t.n(o),i=t(232),s=function(e){return{modal:{zIndex:"100",position:"fixed",color:e.textColor,top:"22vh",left:"10%",fontFamily:"Open Sans, sans-serif",width:"80%",background:e.bgColor,boxShadow:"0 2px 8px rgba(0, 0, 0, 0.26)",borderRadius:"8px"},modalHeader:{width:"100%",padding:"1rem 0.5rem",backgroundColor:"#3f51b5",color:"white","& h2":{margin:"0.5rem"}},modalContent:{padding:"1rem 0.5rem"},modalFooter:{padding:"1rem 0.5rem",display:"flex",justifyContent:"flex-end","& button":{margin:"0 0 0 20px"}},"@media (min-width: 768px)":{modal:{left:"calc(50% - 20rem)",width:"40rem"}},modalEnter:{transform:"translateY(-10rem)",opacity:0},modalEnterActive:{transform:"translateY(0)",opacity:1,transition:"all 200ms"},modalExit:{transform:"translateY(0)",opacity:1},modalExitActive:{transform:"translateY(-10rem)",opacity:0,transition:"all 200ms"}}},c=t(9),d=t(100),u=function(e){var a=e.headerTitle,t=e.classes,r=e.onSubmitHandler,o=e.footerContent,i=e.children,s=n.a.createElement("div",{className:t.modal},n.a.createElement("header",{className:t.modalHeader},n.a.createElement("h2",null,a)),n.a.createElement("form",{onSubmit:r||function(e){return e.preventDefault()}},n.a.createElement("div",{className:t.modalContent},i),n.a.createElement("footer",{className:t.modalFooter},o)));return l.a.createPortal(s,document.getElementById("modal-hook"))},p=Object(c.b)(s)((function(e){var a=e.classes,t=e.onCancel,o=e.show;return n.a.createElement(r.Fragment,null,o&&n.a.createElement(d.a,{onClick:t}),n.a.createElement(i.a,{in:o,mountOnEnter:!0,unmountOnExit:!0,timeout:250,classNames:{enter:a.modalEnter,enterActive:a.modalEnterActive,exit:a.modalExit,exitActive:a.modalExitActive}},n.a.createElement(u,e)))}));a.a=p},410:function(e,a,t){"use strict";t.r(a);var r=t(17),n=t(36),o=t(35),l=t(0),i=t.n(l),s=t(9),c=function(e){return{imageUploadPreview:{width:"13rem",height:"13rem",border:"1px solid #ccc",display:"flex",justifyContent:"center",alignItems:"center",textAlign:"center",marginBottom:"1rem",color:"white",fontFamily:e.defaultFontStack,backgroundColor:e.imagePreviewBgColor,"& img":{width:"100%",borderRadius:"50%",height:"100%",objectFit:"cover"}},container:{"& button":{margin:"0 10px 10px 0"}}}},d=t(377),u=t.n(d),p=t(286),m=t.n(p),f=t(271),g=function(e){Object(n.a)(t,e);var a=Object(o.a)(t);function t(){var e;Object(r.a)(this,t);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(e=a.call.apply(a,[this].concat(o))).state={previewUrl:null,file:null,isValid:!0},e.filePickerRef=Object(l.createRef)(),e.onFileChange=function(a){a.target.files&&1===a.target.files.length?e.setState({file:a.target.files[0],isValid:!0}):e.setState({isValid:!1})},e.pickImageHandler=function(){e.filePickerRef.current.click()},e.componentDidUpdate=function(){if(e.state.file){var a=new FileReader;a.onload=function(){e.setState({previewUrl:a.result})},a.readAsDataURL(e.state.file)}},e.saveProfileImage=function(){if(e.state.file){var a=new FormData;a.append("profile-image",e.state.file),e.props.onImageUpload(a),e.setState({file:null})}else e.setState({isValid:!1})},e.render=function(){var a=e.state,t=a.previewUrl,r=a.isValid,n=e.props.classes;return i.a.createElement("div",{className:n.container},i.a.createElement("input",{ref:e.filePickerRef,type:"file",style:{display:"none"},accept:".jpg, .png, .jpeg",onChange:e.onFileChange}),i.a.createElement("div",{className:n.imageUpload},i.a.createElement("div",{className:n.imageUploadPreview},t&&i.a.createElement("img",{src:t,alt:"Preview",title:"Profile preview"}),!t&&i.a.createElement("p",null,"Please pick an image")),i.a.createElement(f.a,{variant:"contained",color:"secondary",startIcon:i.a.createElement(u.a,null),onClick:e.pickImageHandler},"Pick an image"),i.a.createElement(f.a,{variant:"contained",color:"primary",startIcon:i.a.createElement(m.a,null),onClick:e.saveProfileImage},"Save"),!r&&i.a.createElement("p",null,"Please, choose a file.")))},e}return t}(l.PureComponent),b=Object(s.b)(c)(g),h=function(e){return{container:{width:"50vw",margin:"20px auto",padding:"25px",borderRadius:"40px",fontFamily:e.defaultFontStack,backgroundColor:e.defaultBgColor,color:e.textColor,transition:"background-color 0.5s ease-in","& h1":{margin:"10px 0"},"& p":{margin:"0 0 10px 0"},"& label":{textTransform:"none"},"& label::firs-letter":{textTransform:"uppercase"}},formContainer:{width:"80%",maxWidth:"500px"},divider:{height:"3px",backgroundColor:"rgba(169,169,169, 0.8)",borderRadius:"10px",margin:"15px 0"},"@media (max-width: 768px)":{container:{width:"80vw"}}}},v=t(2),E=t(91),w=t(50),C={errorMessage:{textAlign:"center",borderRadius:"10px",backgroundColor:"#DC143C",padding:"10px",margin:"15px 0",color:"white"}},O=t(245),y=t(251),x=t(244),j=function(e){Object(n.a)(t,e);var a=Object(o.a)(t);function t(){var e,n;Object(r.a)(this,t);for(var o=arguments.length,l=new Array(o),s=0;s<o;s++)l[s]=arguments[s];return(n=a.call.apply(a,[this].concat(l))).state={formData:(e={},Object(w.a)(e,"Current password",{elementType:"input",config:{type:"password",placeholder:"Current password"},preValidators:[],validators:[function(e){return!Object(y.isEmpty)(e)}],isValid:!1,isTouched:!1,errorMsg:"Please input your current password",value:""}),Object(w.a)(e,"New password",{elementType:"input",config:{type:"password",placeholder:"New password"},preValidators:[],validators:[function(e){return!Object(y.isEmpty)(e)},function(e){return e.length>=8},function(e){return!e.toLowerCase().includes("password")}],isValid:!1,isTouched:!1,errorMsg:'Password cannot contain "password" string and min length is 8',value:""}),Object(w.a)(e,"Repeat new password",{elementType:"input",config:{type:"password",placeholder:"Repeat new password"},preValidators:[],validators:[function(e){return!Object(y.isEmpty)(e)},function(e){return e.length>=8},function(e){return!e.toLowerCase().includes("password")}],isValid:!1,isTouched:!1,errorMsg:'Password cannot contain "password" string and min length is 8',value:""}),e),areEquals:!0,isFormValid:!1},n.onSubmitHandler=function(e){if(e.preventDefault(),n.state.isFormValid){var a={currentPassword:n.state.formData["Current password"].value,newPassword:n.state.formData["New password"].value};n.props.onPasswordChange(a)}},n.onChangeHandler=function(e,a){var t=e.target.value,r=n.state.formData[a].preValidators,o=n.state.formData[a].validators,l=Object(x.a)(t,r,o),i=Object(E.a)(l,2),s=i[0],c=i[1],d=Object(v.a)({},n.state.formData),u=d[a]=Object(v.a)(Object(v.a)({},d[a]),{},{isValid:c,value:s||t,isTouched:!0}),p=!0;if("New password"===a||"Repeat new password"===a){var m="New password"===a?"Repeat new password":"New password";p=u.value===n.state.formData[m].value}d[a]=u;for(var f=!0,g=0,b=Object.entries(d);g<b.length;g++){f=Object(E.a)(b[g],2)[1].isValid&&f}n.setState({formData:d,isFormValid:f&&p,areEquals:p})},n.render=function(){for(var e=n.props.classes,a=n.state.areEquals,t=[],r=0,o=Object.entries(n.state.formData);r<o.length;r++){var l=Object(E.a)(o[r],2),s=l[0],c=l[1];t.push({id:s,elementType:c.elementType,config:c.config,value:c.value,isValid:c.isValid,isTouched:c.isTouched,errorMsg:c.errorMsg})}return i.a.createElement("div",{className:e.container},i.a.createElement("form",{className:e.signUpForm,onSubmit:n.onSubmitHandler},t.map((function(e){return i.a.createElement(O.a,{label:e.id,key:e.id,elementType:e.elementType,config:e.config,value:e.value,isValid:e.isValid,isTouched:e.isTouched,errorMsg:e.errorMsg,isPassVisible:e.isPassVisible,onInput:function(a){return n.onChangeHandler(a,e.id)}})})),!a&&i.a.createElement("div",{className:e.errorMessage},"Passwords are not equals."),i.a.createElement(f.a,{variant:"contained",color:"primary",startIcon:i.a.createElement(m.a,null),className:e.submitButton,onClick:n.onSubmitHandler},"Save")))},n}return t}(l.Component),P=Object(s.b)(C)(j),S=t(417),k=t(414),A=t(263),I=t.n(A),V=t(265),H=function(e){return i.a.createElement(k.a,Object.assign({elevation:6,variant:"filled"},e))},M=Object(s.b)(h)((function(e){var a=e.classes,t=e.onImageUpload,r=e.onPasswordChange,n=e.hasError,o=e.onErrorAlertClose,s=e.onSuccessAlertClose,c=e.isErrorOpen,d=e.isSuccessOpen,u=e.isModalVisible,p=e.onModalOpen,m=e.onModalClose,g=e.onDeleteProfile;return i.a.createElement("div",{className:a.container},i.a.createElement("h1",null,"Settings"),i.a.createElement("p",null,"Here you can change your profile settings including image, password, email or even delete your accout."),i.a.createElement("div",{className:a.divider}),i.a.createElement("h2",null,"Profile image"),i.a.createElement("p",null,"Please, pick one image with one of the following extensions (.jpg, .png, .jpeg)."),i.a.createElement(b,{onImageUpload:t}),i.a.createElement("div",{className:a.divider}),i.a.createElement("h2",null,"Change password"),i.a.createElement("p",null,'Your password must be at least 8 characters long and cannot contain word "password".'),i.a.createElement("div",{className:a.formContainer},i.a.createElement(P,{onPasswordChange:r})),i.a.createElement("h2",null,"Delete profile"),i.a.createElement("p",null,"To delete your profile click on the button below."),i.a.createElement(f.a,{variant:"contained",color:"secondary",startIcon:i.a.createElement(I.a,null),onClick:p},"Delete profile"),i.a.createElement(S.a,{open:d,autoHideDuration:6e3,onClose:s,anchorOrigin:{vertical:"bottom",horizontal:"right"}},i.a.createElement(H,{onClose:s,severity:"success"},"Settings successfully updated!")),i.a.createElement(S.a,{open:c,autoHideDuration:6e3,onClose:o,anchorOrigin:{vertical:"bottom",horizontal:"right"}},i.a.createElement(H,{onClose:o,severity:"error"},n&&n.message)),i.a.createElement(V.a,{show:u,onCancel:m,headerTitle:"Are you sure?",footerContent:i.a.createElement(l.Fragment,null,i.a.createElement(f.a,{onClick:m,variant:"contained",color:"secondary"},"Cancel"),i.a.createElement(f.a,{onClick:g,variant:"contained",color:"primary"},"Delete"))},i.a.createElement("p",null,"\n          Do you REALLY want to delete your profile? Your comments won't \n          be deleted, so as your likes/dislikes.\n          Please note that this action cannot be undone."," ")))})),N=t(37),D=t(12),T=t(94),F=t(241),R=t.n(F),U=function(e){Object(n.a)(t,e);var a=Object(o.a)(t);function t(){var e;Object(r.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(e=a.call.apply(a,[this].concat(o))).state={isSuccessAlertOpen:!1,isErrorAlertOpen:!1,isModalVisible:!1},e.componentDidUpdate=function(a){R()(e.props.hasError,a.hasError)||!e.props.hasError||e.state.isErrorAlertOpen||e.setState({isErrorAlertOpen:!0}),a.actionCompletedSuccessfully===e.props.actionCompletedSuccessfully||e.state.isSuccessAlertOpen||e.setState({isSuccessAlertOpen:!0})},e.onModalOpenHandler=function(){e.setState({isModalVisible:!0})},e.onDeleteProfileHandler=function(){e.props.deleteProfile(),e.onModalCloseHandler()},e.onModalCloseHandler=function(){e.setState({isModalVisible:!1})},e.onErrorAlertCloseHandler=function(){e.setState({isErrorAlertOpen:!1})},e.onSuccessAlertCloseHandler=function(){e.setState({isSuccessAlertOpen:!1})},e.onImageUploadHandler=function(a){e.props.updateProfileImage(a)},e.onPasswordChangeHandler=function(a){e.props.changeProfilePassword(a)},e.render=function(){var a=e.props.hasError,t=e.state,r=t.isErrorAlertOpen,n=t.isSuccessAlertOpen,o=t.isModalVisible;return i.a.createElement(M,{isSuccessOpen:n,isErrorOpen:r,onErrorAlertClose:e.onErrorAlertCloseHandler,onSuccessAlertClose:e.onSuccessAlertCloseHandler,hasError:a,onImageUpload:e.onImageUploadHandler,onPasswordChange:e.onPasswordChangeHandler,isModalVisible:o,onModalOpen:e.onModalOpenHandler,onModalClose:e.onModalCloseHandler,onDeleteProfile:e.onDeleteProfileHandler})},e}return t}(l.Component);a.default=Object(N.b)((function(e){var a=e.profile;return{hasError:a.hasError,actionCompletedSuccessfully:a.actionCompletedSuccessfully}}),(function(e){return Object(D.b)({updateProfileImage:T.g,changeProfilePassword:T.b,deleteProfile:T.c},e)}))(U)}}]);
//# sourceMappingURL=15.fd06f77a.chunk.js.map