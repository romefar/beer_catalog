(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[16],{236:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var n=function(e,t){return t.map((function(e){return e.beerId})).includes(e)}},239:function(e,t,a){"use strict";var n=a(88),r=a(2),i=a(3),o=a.n(i),c=a(11),s=a(17),u=a(19),l=a(51),p=a(28),g=function e(){Object(s.a)(this,e)};g.getItemsCount=function(){for(var e=document.querySelector("#main_header"),t=.75*window.innerWidth,a=window.innerHeight-e.offsetHeight,n=Math.floor(t/320),r=0,i=0;i<a;)i+=353,r++;return n*r};var m=g,f=a(234),b=a.n(f),d=function e(){var t=this;Object(s.a)(this,e),Object.defineProperty(this,h,{writable:!0,value:"/api/v1/beers"}),Object.defineProperty(this,v,{writable:!0,value:null}),Object.defineProperty(this,j,{writable:!0,value:{per_page:12,page:1,beer_name:null,abv_gt:null,ibu_gt:null,ebc_gt:null}}),Object.defineProperty(this,O,{writable:!0,value:"http://pluspng.com/img-png/beer-bottle-png-hd-a-beer-bottle-beer-bottle-brown-foam-free-png-and-psd-650.jpg"}),this.resetPages=function(){Object(u.a)(t,j)[j].page=1},this.getFavouritesBeerItems=function(){var e=Object(c.a)(o.a.mark((function e(a){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(p.a)("".concat(Object(u.a)(t,h)[h],"/favourites?page=").concat(a));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Object.defineProperty(this,y,{writable:!0,value:function(e){var a=e.searchQuery,n=e.alcoholVolume,i=e.bitternetsUnits,o=e.ebcColor;Object(u.a)(t,j)[j].per_page=m.getItemsCount();var c=b()(Object(u.a)(t,v)[v],e);Object(u.a)(t,j)[j].page=c?Object(u.a)(t,j)[j].page:1,Object(u.a)(t,j)[j]=Object(r.a)(Object(r.a)({},Object(u.a)(t,j)[j]),{},{beer_name:a,abv_gt:n,ibu_gt:i,ebc_gt:o}),Object(u.a)(t,v)[v]=e}}),Object.defineProperty(this,x,{writable:!0,value:function(){for(var e=[],a=0,r=Object.entries(Object(u.a)(t,j)[j]);a<r.length;a++){var i=Object(n.a)(r[a],2),o=i[0],c=i[1];c&&("beer_name"===o&&(o=o.split(" ").join("_")),e.push("".concat(o,"=").concat(c)))}return"?".concat(e.join("&"))}}),Object.defineProperty(this,w,{writable:!0,value:function(e){return{data:e.map((function(e){return e.image_url||(e.image_url=Object(u.a)(t,O)[O]),e}))}}}),this.fetchBeerSuggestions=function(){var e=Object(c.a)(o.a.mark((function e(a){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(p.a)("".concat(Object(u.a)(t,h)[h],"/suggestions?page=").concat(a));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.fetchBeerSuggestionsByYeast=function(){var e=Object(c.a)(o.a.mark((function e(a,n){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.toLowerCase().split(" ").join("_"),e.next=3,Object(p.a)("".concat(Object(u.a)(t,h)[h],"/suggestions?page=").concat(a,"&yeast=").concat(r));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),this.fetchBeerItems=function(){var e=Object(c.a)(o.a.mark((function e(a){var n,r,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Object(u.a)(t,y)[y](a),n=Object(u.a)(t,x)[x](),e.next=4,Object(p.a)("".concat(Object(u.a)(t,h)[h]).concat(n));case 4:return r=e.sent,i=Object(u.a)(t,w)[w](r),Object(u.a)(t,j)[j].page+=1,e.abrupt("return",i);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.fetchSingleBeer=function(){var e=Object(c.a)(o.a.mark((function e(a){var n,r,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.id,e.next=3,Object(p.a)("".concat(Object(u.a)(t,h)[h],"/").concat(n));case 3:return r=e.sent,i=Object(u.a)(t,w)[w](r),e.abrupt("return",i.data.shift());case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},h=Object(l.a)("beerRoute"),v=Object(l.a)("prevOptions"),j=Object(l.a)("params"),O=Object(l.a)("defaultImageUrl"),y=Object(l.a)("configureRequest"),x=Object(l.a)("generateUrl"),w=Object(l.a)("replaceEmptyImages"),S=function(){var e=null;return function(){return e||(e=new d)}}();t.a=S},241:function(e,t,a){"use strict";var n=a(233);t.a=function(e){if(e.length<=2)return e.trim();var t=[],a=e.trim().split(""),r=a.shift();" "!==r&&t.push(r);var i,o=Object(n.a)(a);try{for(o.s();!(i=o.n()).done;){var c=i.value;" "===r&&" "===c||t.push(c),r=c}}catch(s){o.e(s)}finally{o.f()}return t.join("")}},402:function(e,t,a){"use strict";a.r(t);var n=a(17),r=a(36),i=a(35),o=a(0),c=a.n(o),s=a(37),u=a(16),l=a(3),p=a.n(l),g=a(11),m=a(239),f=a(66),b=function(){return{type:f.b}},d=function(e){return{type:f.c,payload:e}},h=function(e){return{type:f.a,payload:e}},v=function(e){return function(){var t=Object(g.a)(p.a.mark((function t(a){var n;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a(b()),t.next=4,Object(m.a)().fetchBeerSuggestions(e);case 4:n=t.sent,a(d(n)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),a(h(t.t0));case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},j=function(e,t){return function(){var a=Object(g.a)(p.a.mark((function a(n){var r;return p.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n(b()),a.next=4,Object(m.a)().fetchBeerSuggestionsByYeast(e,t);case 4:r=a.sent,n(d(r)),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),n(h(a.t0));case 11:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e){return a.apply(this,arguments)}}()},O=a(91),y=a(372),x=a(93),w=function(e){return{imageContainer:{width:"15%",height:"200px",marginBottom:"10px","& img":{width:"100%",height:"100%",objectFit:"contain"}},deletedTitle:{margin:"50px auto",fontFamily:"Helvetica, ".concat(e.defaultFontStack)},info:{textAlign:"justify",width:"85%"},title:{margin:"3px 0",fontFamily:"Helvetica, ".concat(e.defaultFontStack)},tagline:{margin:"0 0 9px 0",color:"#808080",fontFamily:"Lato, ".concat(e.defaultFontStack),fontStyle:"italic"},actions:{borderTop:"1px solid #ccc",display:"flex",padding:"5px 0 0 0","& span":{color:e.buttonTextColor}},description:{margin:"10px 0",color:"#696969",fontFamily:"Lato, ".concat(e.defaultFontStack)},cardContent:{width:"100%",display:"flex",marginBottom:"20px",transition:"all 0.5s ease-in"},"@media (max-width: 768px)":{info:{width:"70%"},imageContainer:{width:"30%"}},"@media (max-width: 380px)":{imageContainer:{display:"none"},info:{width:"100%"}}}},S=a(9),E=a(264),C=a(20),B=a(236),F=Object(S.b)(w)((function(e){var t=e.id,a=e.classes,n=e.imageUrl,r=e.name,i=e.tagline,o=e.description,s=e.favourites,u=e.onFavouriteClick,l=Object(B.a)(t,s);return c.a.createElement(x.a,{className:a.cardContent},c.a.createElement("div",{className:a.info},c.a.createElement("h1",{className:a.title,title:r},r),c.a.createElement("p",{className:a.tagline},i),c.a.createElement("p",{className:a.description},o),c.a.createElement("div",{className:a.actions},c.a.createElement(E.a,{component:C.b,to:"/beer/".concat(t)},"View"),c.a.createElement(E.a,{onClick:function(){return u(t)}},l?"Remove from favourite":"Add to favourite"))),c.a.createElement("div",{className:a.imageContainer},c.a.createElement("img",{src:n,alt:r,title:r})))})),k=function(e){return{container:{width:"60vw",maxWidth:"1200px",margin:"20px auto",color:e.textColor,display:"flex",flexDirection:"column",fontFamily:"Verdana, ".concat(e.defaultFontStack),"& h3":{textAlign:"center",margin:"0 0 15px 0"}},paginationContainer:{display:"flex",justifyContent:"center","& li button":{color:e.textColor},"& li button.Mui-selected":{backgroundColor:e.pageItemSelectedColor},"& li button.MuiPaginationItem-page:hover":{backgroundColor:e.pageItemHoveredColor}}}},I=a(90),A=a(89),_=Object(S.b)(k)((function(e){var t=e.classes,a=e.isLoading,n=e.hasError,r=e.items,i=e.favourites,o=e.onFavouriteClick,s=e.paginationElement,u=e.isSuggestAvailable,l=e.isYeastSuggestion,p=e.isEmpty;return c.a.createElement("div",{className:t.container},a&&c.a.createElement(I.a,null),n&&c.a.createElement(A.a,{text:n.message}),u&&c.a.createElement("h3",null,"Beer suggestions based on your favourites"),r.length>0&&!a&&r.map((function(e){return c.a.createElement(F,{id:e.id,key:e.id,favourites:i,onFavouriteClick:o,description:e.description,imageUrl:e.image_url,name:e.name,tagline:e.tagline})})),!u&&!l&&!a&&c.a.createElement(A.a,{text:"We don't have enough data to suggest you beer. Add some beer to favourites to view suggestions."},c.a.createElement(C.b,{to:"/"},"Disover new beer.")),p&&l&&c.a.createElement(A.a,{text:"We didn't find anything. Try different yeast name."}),c.a.createElement("div",{className:t.paginationContainer},r.length>0&&s))})),L=function(e){return{container:{width:"50vw",maxWidth:"960px",color:e.textColor,margin:"20px auto",fontFamily:"Verdana, ".concat(e.defaultFontStack),"& svg":{color:e.svgIconsColor},"& h2":{textAlign:"center",margin:"0 0 10px 0"}},searchInput:{width:"100%","& div div.MuiInputBase-root":{transition:"background-color 0.5s ease-in",background:e.inputFocusColor},"& input":{color:e.textColor}},searchForm:{display:"flex",alignItems:"center"},"@media (max-width: 910px)":{container:{width:"70vw"}}}},P=a(400),N=a(405),T=a(251),Y=a.n(T),H=a(224),W=[{title:"American Ale"},{title:"Pilsen Lager"},{title:"French Saison"},{title:"Belgian Ardennes"},{title:"German Wheat"},{title:"Bavarian Wheat"},{title:"Monastery Ale"},{title:"American Wheat"},{title:"Super High Gravity Ale"},{title:"Trappist High Gravity"},{title:"Belgian Witbier"},{title:"Belgian Saison"},{title:"Belgian Strong Ale"},{title:"Bohemian Lager"},{title:"Vermont Ale"},{title:"Bohemian Lager"},{title:"London Ale Saflager"}],M=Object(S.b)(L)((function(e){var t=e.classes,a=e.value,n=e.onInputChange,r=e.onSubmit;return c.a.createElement("div",{className:t.container},c.a.createElement("h2",null,"Let us know your yeast preferences"),c.a.createElement("form",{className:t.searchForm,onSubmit:r},c.a.createElement(N.a,{id:"free-solo-demo",freeSolo:!0,className:t.searchInput,options:W.map((function(e){return e.title})),size:"small",value:a,onInputChange:n,renderInput:function(e){return c.a.createElement(P.a,Object.assign({},e,{label:"Search by yeast",placeholder:"Input yeast name...",margin:"normal",variant:"outlined"}))}}),c.a.createElement(H.a,{onClick:r},c.a.createElement(Y.a,null))))})),U=a(241),D=function(e){Object(r.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(n.a)(this,a);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))).state={page:1,searchTerm:""},e.toggleFavourites=function(t){e.props.favourites.map((function(e){return e.beerId})).includes(t)?e.props.removeBeerFromFavourites(t):e.props.addBeerToFavourites(t)},e.componentDidMount=function(){e.props.fetchBeerSuggestions(e.state.page)},e.componentDidUpdate=function(t,a){e.state.page===a.page||e.props.isYeastSuggestion?e.state.page!==a.page&&e.props.isYeastSuggestion&&e.props.fetchBeerSuggestionsByYeast(e.state.page,e.state.searchTerm):e.props.fetchBeerSuggestions(e.state.page)},e.onSubmitHandler=function(t){t.preventDefault();var a=Object(U.a)(e.state.searchTerm);a?(e.setState({page:1}),e.props.fetchBeerSuggestionsByYeast(e.state.page,a)):(e.setState({page:1}),e.props.fetchBeerSuggestions(e.state.page))},e.onInputChangeHandler=function(t,a){e.setState({searchTerm:a})},e.onPageChange=function(t,a){e.setState({page:a})},e.render=function(){var t=e.props,a=t.items,n=t.hasError,r=t.favourites,i=t.isSuggestAvailable,s=t.isEmpty,u=t.isYeastSuggestion,l=t.isLoading,p=t.pages;return c.a.createElement(o.Fragment,null,c.a.createElement(M,{value:e.state.searchTerm,onInputChange:e.onInputChangeHandler,onSubmit:e.onSubmitHandler}),c.a.createElement(_,{items:a,hasError:n,onFavouriteClick:e.toggleFavourites,favourites:r,isLoading:l,isSuggestAvailable:i,isYeastSuggestion:u,isEmpty:s,paginationElement:c.a.createElement(y.a,{count:p,page:e.state.page,onChange:e.onPageChange})}))},e}return a}(o.PureComponent);t.default=Object(s.b)((function(e){var t=e.beerSuggestions,a=t.isLoading,n=t.hasError,r=t.isSuggestAvailable,i=t.isYeastSuggestion;return{isLoading:a,hasError:n,isSuggestAvailable:r,isEmpty:t.isEmpty,isYeastSuggestion:i,items:t.items,pages:t.pages,favourites:e.profile.favourites}}),(function(e){return Object(u.b)({fetchBeerSuggestions:v,addBeerToFavourites:O.a,fetchBeerSuggestionsByYeast:j,removeBeerFromFavourites:O.f},e)}))(D)}}]);
//# sourceMappingURL=16.674bd6ca.chunk.js.map