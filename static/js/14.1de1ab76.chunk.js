(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[14],{236:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a=function(e,t){return t.map((function(e){return e.beerId})).includes(e)}},239:function(e,t,n){"use strict";var a=n(88),r=n(2),o=n(3),i=n.n(o),c=n(11),s=n(17),l=n(19),u=n(51),p=n(28),f=function e(){Object(s.a)(this,e)};f.getItemsCount=function(){for(var e=document.querySelector("#main_header"),t=.75*window.innerWidth,n=window.innerHeight-e.offsetHeight,a=Math.floor(t/320),r=0,o=0;o<n;)o+=353,r++;return a*r};var d=f,m=n(234),b=n.n(m),h=function e(){var t=this;Object(s.a)(this,e),Object.defineProperty(this,g,{writable:!0,value:"/api/v1/beers"}),Object.defineProperty(this,v,{writable:!0,value:null}),Object.defineProperty(this,j,{writable:!0,value:{per_page:12,page:1,beer_name:null,abv_gt:null,ibu_gt:null,ebc_gt:null}}),Object.defineProperty(this,O,{writable:!0,value:"http://pluspng.com/img-png/beer-bottle-png-hd-a-beer-bottle-beer-bottle-brown-foam-free-png-and-psd-650.jpg"}),this.resetPages=function(){Object(l.a)(t,j)[j].page=1},this.getFavouritesBeerItems=function(){var e=Object(c.a)(i.a.mark((function e(n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(p.a)("".concat(Object(l.a)(t,g)[g],"/favourites?page=").concat(n));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Object.defineProperty(this,x,{writable:!0,value:function(e){var n=e.searchQuery,a=e.alcoholVolume,o=e.bitternetsUnits,i=e.ebcColor;Object(l.a)(t,j)[j].per_page=d.getItemsCount();var c=b()(Object(l.a)(t,v)[v],e);Object(l.a)(t,j)[j].page=c?Object(l.a)(t,j)[j].page:1,Object(l.a)(t,j)[j]=Object(r.a)(Object(r.a)({},Object(l.a)(t,j)[j]),{},{beer_name:n,abv_gt:a,ibu_gt:o,ebc_gt:i}),Object(l.a)(t,v)[v]=e}}),Object.defineProperty(this,y,{writable:!0,value:function(){for(var e=[],n=0,r=Object.entries(Object(l.a)(t,j)[j]);n<r.length;n++){var o=Object(a.a)(r[n],2),i=o[0],c=o[1];c&&("beer_name"===i&&(i=i.split(" ").join("_")),e.push("".concat(i,"=").concat(c)))}return"?".concat(e.join("&"))}}),Object.defineProperty(this,C,{writable:!0,value:function(e){return{data:e.map((function(e){return e.image_url||(e.image_url=Object(l.a)(t,O)[O]),e}))}}}),this.fetchBeerSuggestions=function(){var e=Object(c.a)(i.a.mark((function e(n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(p.a)("".concat(Object(l.a)(t,g)[g],"/suggestions?page=").concat(n));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.fetchBeerSuggestionsByYeast=function(){var e=Object(c.a)(i.a.mark((function e(n,a){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.toLowerCase().split(" ").join("_"),e.next=3,Object(p.a)("".concat(Object(l.a)(t,g)[g],"/suggestions?page=").concat(n,"&yeast=").concat(r));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),this.fetchBeerItems=function(){var e=Object(c.a)(i.a.mark((function e(n){var a,r,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Object(l.a)(t,x)[x](n),a=Object(l.a)(t,y)[y](),e.next=4,Object(p.a)("".concat(Object(l.a)(t,g)[g]).concat(a));case 4:return r=e.sent,o=Object(l.a)(t,C)[C](r),Object(l.a)(t,j)[j].page+=1,e.abrupt("return",o);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.fetchSingleBeer=function(){var e=Object(c.a)(i.a.mark((function e(n){var a,r,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.id,e.next=3,Object(p.a)("".concat(Object(l.a)(t,g)[g],"/").concat(a));case 3:return r=e.sent,o=Object(l.a)(t,C)[C](r),e.abrupt("return",o.data.shift());case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},g=Object(u.a)("beerRoute"),v=Object(u.a)("prevOptions"),j=Object(u.a)("params"),O=Object(u.a)("defaultImageUrl"),x=Object(u.a)("configureRequest"),y=Object(u.a)("generateUrl"),C=Object(u.a)("replaceEmptyImages"),w=function(){var e=null;return function(){return e||(e=new h)}}();t.a=w},241:function(e,t,n){"use strict";var a=n(233);t.a=function(e){if(e.length<=2)return e.trim();var t=[],n=e.trim().split(""),r=n.shift();" "!==r&&t.push(r);var o,i=Object(a.a)(n);try{for(i.s();!(o=i.n()).done;){var c=o.value;" "===r&&" "===c||t.push(c),r=c}}catch(s){i.e(s)}finally{i.f()}return t.join("")}},401:function(e,t,n){"use strict";n.r(t);var a=n(49),r=n(2),o=n(17),i=n(36),c=n(35),s=n(0),l=n.n(s),u=n(37),p=n(16),f=n(3),d=n.n(f),m=n(11),b=n(239),h=n(54),g=function(e){return{type:h.d,payload:e.data}},v=function(){return Object(b.a)().resetPages(),{type:h.a}},j=function(e){return function(){var t=Object(m.a)(d.a.mark((function t(n){var a;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:h.c}),t.next=4,Object(b.a)().fetchBeerItems(e);case 4:a=t.sent,n(g(a)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),n((r=t.t0,{type:h.b,payload:r}));case 11:case"end":return t.stop()}var r}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},O=n(91),x=n(9),y=function(e){return{filtersContainer:{width:"100%",margin:"0 auto","& h2":{fontFamily:"Helvetica, Arial, sans-serif",margin:"10px 0",textAlign:"center"}}}},C=n(88),w=function(e){return{filterRow:{display:"flex",justifyContent:"space-between",transition:"background-color 0.5s ease-in"},filterValueLabel:{display:"inline-block"},sliderContainer:{width:"40%"},filterInfo:{fontFamily:"Lato, ".concat(e.defaultFontStack),width:"50%",display:"flex",justifyContent:"space-between",alignItems:"center"}}},E=n(411),I=Object(x.b)(w)((function(e){var t=e.classes,n=e.filterType,a=e.onChangeCommitted,r=n.NAME,o=n.MIN_VALUE,i=n.MAX_VALUE,c=n.TITLE,u=Object(s.useState)(o),p=Object(C.a)(u,2),f=p[0],d=p[1];return l.a.createElement("div",{className:t.filterRow},l.a.createElement("div",{className:t.filterInfo},l.a.createElement("span",{className:t.filterTitle},c),l.a.createElement("span",{className:t.filterValueLabel},f)),l.a.createElement("div",{className:t.sliderContainer},l.a.createElement(E.a,{min:o,max:i,value:f,onChange:function(e,t){return d(t)},valueLabelDisplay:"auto",onChangeCommitted:function(e,t){return a(r,t)}})))})),F=n(373),L={NAME:"alcoholVolume",TITLE:"Alcohol by volume:",MIN_VALUE:2,MAX_VALUE:14},k={NAME:"bitternetsUnits",TITLE:"International Bitterness Units:",MIN_VALUE:0,MAX_VALUE:120},A={NAME:"ebcColor",TITLE:"Color by EBC:",MIN_VALUE:4,MAX_VALUE:80},S=Object(x.b)(y)(Object(s.memo)((function(e){var t=e.classes,n=e.onChangeCommitted,a=[L,k,A];return l.a.createElement("div",{className:t.filtersContainer},l.a.createElement("h2",null,"Search options"),a.map((function(e){var t=Object(F.a)();return l.a.createElement(I,{key:t,filterType:e,onChangeCommitted:n})})))}))),N=n(263),_=n.n(N),H=n(93),B=function(e){return{imageContainer:{width:"100%",height:"200px",marginBottom:"10px","& img":{borderRadius:"50%",width:"100%",height:"100%",objectFit:"contain"}},info:{textAlign:"justify"},title:{margin:0,whiteSpace:"nowrap",overflow:"hidden",color:e.textColor,textOverflow:"ellipsis",fontFamily:"Helvetica, ".concat(e.defaultFontStack)},tagline:{margin:"10px 0",fontFamily:"Verdana, ".concat(e.defaultFontStack),color:"#696969"},actions:{borderTop:"1px solid #ccc",display:"flex",justifyContent:"space-evenly",padding:"5px 0 0 0".defaultFontStack,"& span":{color:e.buttonTextColor}},cardContent:{width:"320px",marginBottom:"20px",transition:"all 0.5s ease-in","&:hover":{transform:"scale(1.05)",border:"1px solid ".concat(e.textColor)}}}},V=n(264),T=n(20),U=n(236),P=Object(x.b)(B)((function(e){var t=e.id,n=e.classes,a=e.imageUrl,r=e.isLoggedIn,o=e.name,i=e.tagline,c=e.favourites,s=e.onFavouriteClick,u=Object(U.a)(t,c);return l.a.createElement(H.a,{className:n.cardContent},l.a.createElement("div",{className:n.imageContainer},l.a.createElement("img",{src:a,alt:o,title:o})),l.a.createElement("div",{className:n.info},l.a.createElement("h2",{className:n.title,title:o},o),l.a.createElement("p",{className:n.tagline},i)),l.a.createElement("div",{className:n.actions},l.a.createElement(V.a,{component:T.b,to:"/beer/".concat(t)},"View"),r&&l.a.createElement(V.a,{onClick:function(){return s(t)}},u?"Remove from favourite":"Add to favourite")))})),M={beerListContainer:{width:"75vw",maxWidth:"1440px",display:"flex",justifyContent:"space-evenly",flexWrap:"wrap",margin:"20px auto"}},W=Object(x.b)(M)((function(e){var t=e.classes,n=e.items,a=e.isLoggedIn,r=e.favourites,o=e.onFavouriteClick;return l.a.createElement("div",{id:"beer_list_container",className:t.beerListContainer},n.map((function(e){return l.a.createElement(P,{id:e.id,key:e.id,favourites:r,onFavouriteClick:o,isLoggedIn:a,imageUrl:e.image_url,name:e.name,tagline:e.tagline})})))})),Q=n(90),R=n(89),q=n(234),D=n.n(q),X=function(e){Object(i.a)(n,e);var t=Object(c.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).setWindowOnScrollHandler=function(){window.onscroll=_()((function(){var t=window.innerHeight,n=document.documentElement.scrollTop,a=document.documentElement.offsetHeight;t+n===a&&!e.props.isLoading&&e.props.hasItems&&e.props.fetchItems(e.props.options),/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)&&t+window.pageYOffset>=a-20&&!e.props.isLoading&&e.props.hasItems&&e.props.fetchItems(e.props.options)}),100)},e.componentDidMount=function(){e.setWindowOnScrollHandler(),e.props.fetchItems(e.props.options)},e.componentDidUpdate=function(t){D()(t.options,e.props.options)||e.props.fetchItems(e.props.options)},e.render=function(){var t=e.props,n=t.items,a=t.isLoading,r=t.isLoggedIn,o=t.hasError,i=t.hasItems,c=t.favourites,u=t.onFavouriteClick;return l.a.createElement(s.Fragment,null,l.a.createElement(W,{items:n,isLoggedIn:r,favourites:c,onFavouriteClick:u}),a&&i&&l.a.createElement(Q.a,null),o&&l.a.createElement(R.a,{text:o.message}),!i&&l.a.createElement(R.a,{text:"Sorry. We are out of beer."}))},e}return n}(s.Component),z=function(e){return{inputContainer:{width:"40vw",maxWidth:"768px",margin:"0 auto","& svg":{color:e.svgIconsColor}},searchForm:{width:"100%",margin:"20px 0",display:"flex",alignItems:"center",justifyContent:"center"},inputField:{fontFamily:"Lato, ".concat(e.defaultFontStack),padding:"10px",fontSize:"1rem",outline:"none",color:e.textColor,width:"90%",background:e.inputFocusColor,border:"1px solid #ccc",borderRadius:"5px",margin:"0 3px 0 0",transition:"all 0.5s ease-in","&:hover, &:focus":{borderColor:"#696969"}},inputFieldInvalid:{borderColor:"red","&:hover, &:focus":{borderColor:"red"}},"@media (max-width: 968px)":{inputContainer:{width:"70vw"}}}},J=n(99),Y=function(e){return function(t){t(v()),t({type:J.a,payload:e})}},Z=n(251),$=n.n(Z),G=n(224),K=n(241),ee=function(e){var t=Object(K.a)(e);return t.match(/^[a-zA-Z0-9 !.\-_]+$/)||""===t?[!0,t]:[!1,t]},te=n(13),ne=n(286),ae=function(e){Object(i.a)(n,e);var t=Object(c.a)(n);function n(){var e;Object(o.a)(this,n);for(var r=arguments.length,i=new Array(r),c=0;c<r;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).state={query:"",isValid:!0,isTouched:!1},e.onChangeHandler=function(t){var n=t.target.value,a=ee(n),r=Object(C.a)(a,1)[0];e.setState({query:n,isValid:r})},e.onFocusHandler=function(){e.setState({isTouched:!0})},e.onSubmitHandler=function(t){var n=e.state,a=n.isValid,r=n.query,o=e.props.searchQuery;t.preventDefault();var i=ee(r),c=Object(C.a)(i,2)[1];a&&c!==o&&e.props.searchQueryChanged(c)},e.render=function(){var t=e.props.classes,n=e.state,r=n.isValid,o=n.isTouched,i=n.query;return l.a.createElement("div",{className:t.inputContainer},l.a.createElement("form",{className:t.searchForm,onSubmit:e.onSubmitHandler},l.a.createElement(ne.a,{title:"Please, provide a valid beer name. For example 'Alphine Blue' ",arrow:!0,open:!r&&o},l.a.createElement("input",{className:Object(te.a)(t.inputField,Object(a.a)({},t.inputFieldInvalid,!r&&o)),type:"text",placeholder:"Search query...",value:i,onChange:e.onChangeHandler,onFocus:e.onFocusHandler})),l.a.createElement(G.a,{onClick:e.onSubmitHandler},l.a.createElement($.a,{fontSize:"large"}))))},e}return n}(s.PureComponent),re=Object(p.d)(Object(u.b)((function(e){return{searchQuery:e.search.searchQuery}}),(function(e){return Object(p.b)({searchQueryChanged:Y},e)})),Object(x.b)(z))(ae),oe=function(e){return{container:{width:"40vw",maxWidth:"768px",margin:"0 auto",minHeight:"48px",color:e.textColor,transition:"background-color 0.5s ease-in","& svg":{color:e.svgIconsColor}},header:{padding:"8px",boxShadow:"rgba(0, 0, 0, 0.2) 0px 3px 3px -2px, rgba(0, 0, 0, 0.14) 0px 3px 4px 0px, rgba(0, 0, 0, 0.12) 0px 1px 8px 0px",borderRadius:"10px",margin:"0 auto",transition:"background-color 0.5s ease-in",background:e.defaultBgColor,width:"220px",fontFamily:"Helvetica, Arial, sans-serif",textAlign:"center",display:"flex",justifyContent:"space-between",alignItems:"center","& h2":{margin:"10px 0",width:"100%",textAlign:"left"}},iconChanged:{transform:"rotate(180deg)"},content:{borderRadius:"10px",background:e.defaultBgColor,transition:"background-color 0.5s ease-in",margin:"10px 0 0 0",boxShadow:"rgba(0, 0, 0, 0.2) 0px 3px 3px -2px, rgba(0, 0, 0, 0.14) 0px 3px 4px 0px, rgba(0, 0, 0, 0.12) 0px 1px 8px 0px"},contentWrapper:{padding:"10px"},"@media (max-width: 768px)":{container:{width:"90vw"}}}},ie=n(290),ce=n.n(ie),se=n(288),le=n.n(se),ue=function(e){Object(i.a)(n,e);var t=Object(c.a)(n);function n(){var e;Object(o.a)(this,n);for(var r=arguments.length,i=new Array(r),c=0;c<r;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).state={isOpen:!1},e.onClickHandler=function(){e.setState((function(e){return{isOpen:!e.isOpen}}))},e.render=function(){var t=e.props,n=t.classes,r=t.children,o=e.state.isOpen;return l.a.createElement("div",{className:n.container},l.a.createElement("div",{className:n.header},l.a.createElement("h2",{onClick:e.onClickHandler},"Show filters"),l.a.createElement(G.a,{onClick:e.onClickHandler},l.a.createElement(ce.a,{style:{transition:"all 0.5s ease"},className:Object(te.a)(Object(a.a)({},n.iconChanged,o))}))),l.a.createElement("div",{className:Object(te.a)(Object(a.a)({},n.content,!0))},l.a.createElement(le.a,{duration:500,height:o?"auto":0},l.a.createElement("div",{className:n.contentWrapper},r))))},e}return n}(s.PureComponent);ue.defaultProps={contentHeight:"200px"};var pe=Object(x.b)(oe)(ue),fe=function(e){Object(i.a)(n,e);var t=Object(c.a)(n);function n(){var e;Object(o.a)(this,n);for(var i=arguments.length,c=new Array(i),u=0;u<i;u++)c[u]=arguments[u];return(e=t.call.apply(t,[this].concat(c))).state={filters:{alcoholVolume:null,bitternetsUnits:null,ebcColor:null}},e.toggleFavourites=function(t){e.props.favourites.map((function(e){return e.beerId})).includes(t)?e.props.removeBeerFromFavourites(t):e.props.addBeerToFavourites(t)},e.fetchItems=function(t){(0,e.props.fetchBeerItems)(t)},e.onFilterClose=function(){e.setState({filters:{alcoholVolume:null,bitternetsUnits:null,ebcColor:null}})},e.componentWillUnmount=function(){e.props.beerListCleared()},e.onFilterChangeHandler=_()((function(t,n){D()(e.state.filters,Object(r.a)(Object(r.a)({},e.state.filters),{},Object(a.a)({},t,n)))||(e.props.beerListCleared(),e.setState((function(e){return{filters:Object(r.a)(Object(r.a)({},e.filters),{},Object(a.a)({},t,n))}})))}),300),e.render=function(){var t=e.props,n=t.items,a=t.hasError,o=t.isLoading,i=t.isLoggedIn,c=t.hasItems,u=t.searchQuery,p=t.favourites,f=Object(r.a)({searchQuery:u},e.state.filters);return l.a.createElement(s.Fragment,null,l.a.createElement(re,null),l.a.createElement(pe,null,l.a.createElement(S,{onChangeCommitted:e.onFilterChangeHandler})),l.a.createElement(X,{fetchItems:e.fetchItems,isLoading:o,hasError:a,favourites:p,onFavouriteClick:e.toggleFavourites,isLoggedIn:i,items:n,hasItems:c,options:f}))},e}return n}(s.Component);t.default=Object(u.b)((function(e){var t=e.beerList,n=t.items,a=t.hasError,r=t.isLoading,o=t.hasItems;return{items:n,hasError:a,isLoggedIn:e.signIn.isLoggedIn,favourites:e.profile.favourites,hasItems:o,isLoading:r,searchQuery:e.search.searchQuery}}),(function(e){return Object(p.b)({fetchBeerItems:j,addBeerToFavourites:O.a,removeBeerFromFavourites:O.f,beerListCleared:v},e)}))(fe)}}]);
//# sourceMappingURL=14.1de1ab76.chunk.js.map